- pmu_nmi_watchdog: install setup image_copy unattended_install.cdrom
    type = pmu_nmi_watchdog
    start_vm = no
    deadlock_test_link = "watchdog/deadlock_test"
    deadlock_test_path = "/root"
    pre_cmd = "cd /root/deadlock_test && make"
    deadlock_test_cmd = "nohup insmod /root/deadlock_test/deadlock_test.ko >/dev/null 2>&1 &"
    rmmod_deadlock_cmd = "rmmod deadlock_test.ko"
    monitors = qmp1
    monitor_type = qmp
    mem = 2048
    only aarch64
    variants:
        - nmi_watchdog_test:
            test_type = nmi_watchdog_test
            variants:
                - 64u16g:
                    custom_smp = 64
                    vcpu_maxcpus = 64
                    mem = 16384
                - 1u2g:
                    custom_smp = 1
                    vcpu_maxcpus = 1
                    mem = 2048
                - 8u8g_hyper_threads:
                    custom_smp = 8
                    vcpu_maxcpus = 8
                    used_cpus = 8
                    vcpu_cores = 4
                    vcpu_threads = 2
                    mem = 8192
        - nmi_watchdog_switch:
            test_type = nmi_watchdog_edit
            switch_cmd0 = "echo 0 > /proc/sys/kernel/nmi_watchdog"
            switch_cmd1 = "echo 1 > /proc/sys/kernel/nmi_watchdog"
        - cmdline_test:
            test_type = cmdline_test
            variants:
                - pesudo_nmi_0:
                    boot_option_removed = "irqchip.gicv3_pseudo_nmi=1"
                    boot_option_added = "irqchip.gicv3_pseudo_nmi=0"
                - del_pesudo_nmi:
                    boot_option_removed = "irqchip.gicv3_pseudo_nmi=1"
                    boot_option_added = ""
                - del_pmu_nmi_enable:
                    boot_option_removed = "pmu_nmi_enable"
                    boot_option_added = ""
                - del_hardlockup_cpu_freq:
                    boot_option_removed = "hardlockup_cpu_freq=auto"
                    boot_option_added = ""
                - nmi_watchdog_0:
                    boot_option_removed = "nmi_watchdog=1"
                    boot_option_added = "nmi_watchdog=0"
                - del_disable_sdei_nmi_watchdog:
                    boot_option_removed = "disable_sdei_nmi_watchdog"
                    boot_option_added = ""
        - workwith_i6300esb:
            test_type = workwith_i6300esb
